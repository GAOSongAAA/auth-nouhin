date:2025-07-15 07:44:22	thread:background-preinit	X-Track:	level:INFO 	logger:org.hibernate.validator.internal.util.Version   	message:HV000001: Hibernate Validator ******.******.******.Final
date:2025-07-15 07:44:22	thread:main	X-Track:	level:INFO 	logger:com.collaboportal.shoho.ShohoApplication        	message:Starting ShohoApplication ******.******.****** using Java ******.******.****** with PID 58284 (/home/workspace/api/shoho/target/shoho.jar started by root in /home/workspace/api/shoho/target)
date:2025-07-15 07:44:23	thread:main	X-Track:	level:DEBUG	logger:com.collaboportal.shoho.ShohoApplication        	message:Running with Spring Boot ******.******.******, Spring ******.******.******
date:2025-07-15 07:44:23	thread:main	X-Track:	level:INFO 	logger:com.collaboportal.shoho.ShohoApplication        	message:No active profile set, falling back to 1 default profile: "default"
date:2025-07-15 07:44:24	thread:main	X-Track:	level:INFO 	logger:o.s.d.r.config.RepositoryConfigurationDelegate  	message:Multiple Spring Data modules found, entering strict repository configuration mode
date:2025-07-15 07:44:24	thread:main	X-Track:	level:INFO 	logger:o.s.d.r.config.RepositoryConfigurationDelegate  	message:Bootstrapping Spring Data JPA repositories in DEFAULT mode.
date:2025-07-15 07:44:24	thread:main	X-Track:	level:INFO 	logger:o.s.d.r.config.RepositoryConfigurationDelegate  	message:Finished Spring Data repository scanning in 31 ms. Found 0 JPA repository interfaces.
date:2025-07-15 07:44:24	thread:main	X-Track:	level:INFO 	logger:o.s.d.r.config.RepositoryConfigurationDelegate  	message:Multiple Spring Data modules found, entering strict repository configuration mode
date:2025-07-15 07:44:24	thread:main	X-Track:	level:INFO 	logger:o.s.d.r.config.RepositoryConfigurationDelegate  	message:Bootstrapping Spring Data Redis repositories in DEFAULT mode.
date:2025-07-15 07:44:24	thread:main	X-Track:	level:INFO 	logger:o.s.d.r.config.RepositoryConfigurationDelegate  	message:Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:o.s.boot.web.embedded.tomcat.TomcatWebServer    	message:Tomcat initialized with port(s): 8080 (http)
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:org.apache.coyote.http11.Http11NioProtocol      	message:Initializing ProtocolHandler ["http-nio-8080"]
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:org.apache.catalina.core.StandardService        	message:Starting service [Tomcat]
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:org.apache.catalina.core.StandardEngine         	message:Starting Servlet engine: [Apache Tomcat/******.******.******]
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:o.a.c.c.ContainerBase.[Tomcat].[localhost].[/]  	message:Initializing Spring embedded WebApplicationContext
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:o.s.b.w.s.c.ServletWebServerApplicationContext  	message:Root WebApplicationContext: initialization completed in 3257 ms
date:2025-07-15 07:44:26	thread:main	X-Track:	level:DEBUG	logger:c.c.c.s.oauth2.OAuth2FilterAutoConfiguration    	message:OAuth2 フィルター自動設定の初期化が完了しました
date:2025-07-15 07:44:26	thread:main	X-Track:	level:WARN 	logger:c.c.common.config.CommonConfigFactory           	message:環境変数INDEX_PAGEが見つかりません
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:c.c.c.o.factory.OAuth2ClientRegistrationFactory 	message:OAuth2クライアント登録ファクトリー初期化開始、プロバイダー数: 2
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:c.c.c.o.factory.OAuth2ClientRegistrationFactory 	message:OAuth2クライアント登録の作成に成功: provider1 - 測試環境
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:c.c.c.o.factory.OAuth2ClientRegistrationFactory 	message:OAuth2クライアント登録の作成に成功: provider2 - 生產環境
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:c.c.c.o.factory.OAuth2ClientRegistrationFactory 	message:OAuth2クライアント登録ファクトリー初期化完了、登録成功プロバイダー: [provider1, provider2]
date:2025-07-15 07:44:26	thread:main	X-Track:	level:DEBUG	logger:c.c.c.s.oauth2.OAuth2FilterAutoConfiguration    	message:JwtAuthFilter Bean を登録します
date:2025-07-15 07:44:26	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:JwtTokenStrategyRegistryの初期化が完了しました
date:2025-07-15 07:44:26	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:[JWTストラテジー登録] 新しいストラテジーを登録します。キー: header
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:[JWTストラテジー登録] ストラテジーの登録が正常に完了しました。キー: header
date:2025-07-15 07:44:26	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:[JWTストラテジー登録] 新しいストラテジーを登録します。キー: cookie
date:2025-07-15 07:44:26	thread:main	X-Track:	level:INFO 	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:[JWTストラテジー登録] ストラテジーの登録が正常に完了しました。キー: cookie
date:2025-07-15 07:44:26	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.template.ext.JwtValidationTemplate 	message:デフォルトのトークン抽出ストラテジーを登録しました: header, cookie
date:2025-07-15 07:44:26	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.template.ext.JwtValidationTemplate 	message:JwtValidationPreHandlerの初期化が完了しました。JwtTokenUtilを注入しました
date:2025-07-15 07:44:26	thread:main	X-Track:	level:DEBUG	logger:c.c.c.s.oauth2.OAuth2FilterAutoConfiguration    	message:JwtAuthFilter FilterRegistrationBean を登録します
date:2025-07-15 07:44:26	thread:main	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:Filter 'jwtAuthFilter' configured for use
date:2025-07-15 07:44:27	thread:main	X-Track:	level:INFO 	logger:com.zaxxer.hikari.HikariDataSource              	message:syohomoto-app-api-local - Starting...
date:2025-07-15 07:44:27	thread:main	X-Track:	level:INFO 	logger:com.zaxxer.hikari.pool.HikariPool               	message:syohomoto-app-api-local - Added connection ConnectionID:1 ClientConnectionId: 934b5c96-7f5c-492e-87fe-c9d83ae660f2
date:2025-07-15 07:44:27	thread:main	X-Track:	level:INFO 	logger:com.zaxxer.hikari.HikariDataSource              	message:syohomoto-app-api-local - Start completed.
date:2025-07-15 07:44:27	thread:main	X-Track:	level:INFO 	logger:org.hibernate.jpa.internal.util.LogHelper       	message:HHH000204: Processing PersistenceUnitInfo [name: default]
date:2025-07-15 07:44:27	thread:main	X-Track:	level:INFO 	logger:org.hibernate.Version                           	message:HHH000412: Hibernate ORM core version ******.******.******.Final
date:2025-07-15 07:44:28	thread:main	X-Track:	level:WARN 	logger:org.hibernate.orm.deprecation                   	message:HHH90000021: Encountered deprecated setting [javax.pe......redCache.mode], use [jakarta.......redCache.mode] instead
date:2025-07-15 07:44:28	thread:main	X-Track:	level:INFO 	logger:SQL dialect                                     	message:HHH000400: Using dialect: org.hibe.......dialect.SQLServerDialect
date:2025-07-15 07:44:29	thread:main	X-Track:	level:INFO 	logger:o.h.e.t.j.platform.internal.JtaPlatformInitiator	message:HHH000490: Using JtaPlatform implementation: [org.hibe......e.engine.transact......platform.internal.NoJtaPlatform]
date:2025-07-15 07:44:29	thread:main	X-Track:	level:INFO 	logger:o.s.o.jpa.LocalContainerEntityManagerFactoryBean	message:Initialized JPA EntityManagerFactory for persistence unit 'default'
date:2025-07-15 07:44:29	thread:main	X-Track:	level:DEBUG	logger:c.c.c.s.oauth2.OAuth2StrategyAutoConfiguration  	message:OAuth2 策略自動配置初始化完成
date:2025-07-15 07:44:29	thread:main	X-Track:	level:DEBUG	logger:c.c.c.s.oauth2.OAuth2StrategyAutoConfiguration  	message:註冊 LoginStrategyRegistry Bean
date:2025-07-15 07:44:29	thread:main	X-Track:	level:DEBUG	logger:c.c.common.oauth2.registry.LoginStrategyRegistry	message:LoginStrategyRegistryの初期化が完了しました
date:2025-07-15 07:44:29	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.controller.AuthorizationController 	message:AuthorizationControllerの初期化が完了し、リクエストの監視を開始しました
date:2025-07-15 07:44:29	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.processor.impl.AuthProcessorImpl   	message:Er28W5rtv9Uqqyld7kcC6BoONiPSA1Eh
date:2025-07-15 07:44:29	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.processor.impl.AuthProcessorImpl   	message:ki6p8tK3ET2wZ8ZHvVyEYfxSVpYy1YqRQXr2x2VNX3pYGSSKCtpvVtNwlbMsLuMu
date:2025-07-15 07:44:29	thread:main	X-Track:	level:INFO 	logger:c.c.common.jwt.controller.HealthCheckController 	message:HealthCheckControllerの初期化が完了しました
date:2025-07-15 07:44:29	thread:main	X-Track:	level:WARN 	logger:o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration	message:spring.j......-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.j......-in-view to disable this warning
date:2025-07-15 07:44:31	thread:main	X-Track:	level:INFO 	logger:c.c.common.strategy.ExceptionHandlingStrategy   	message:例外処理設定を開始します
date:2025-07-15 07:44:31	thread:main	X-Track:	level:INFO 	logger:c.c.common.strategy.ExceptionHandlingStrategy   	message:例外処理設定が完了しました
date:2025-07-15 07:44:31	thread:main	X-Track:	level:INFO 	logger:o.s.security.web.DefaultSecurityFilterChain     	message:Will secure any request with [org.spri......security.web.sess......rlFilter@2d7a9786, org.spri......security.web.cont.......request.async.WebAsyncManagerIntegrationFilter@7bab5898, org.spri......security.web.cont......erFilter@80bfa9d, org.spri......security.web.head......erFilter@529c2a9a, org.spri......security.web.auth......n.logout.LogoutFilter@2da66a44, org.spri......security.web.save......reFilter@4b039c6d, org.spri......security.web.serv......stFilter@507d64aa, org.spri......security.web.auth......onFilter@366d8b97, org.spri......security.web.sess......ntFilter@4601203a, org.spri......security.web.acce......onFilter@1cf0cacc, org.spri......security.web.acce......ntercept.AuthorizationFilter@33ecbd6c]
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.s.oauth2.OAuth2ControllerAutoConfiguration	message:OAuth2 コントローラー自動設定の初期化が完了しました
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.spring.oauth2.OAuth2CoreAutoConfiguration 	message:OAuth2 コア自動設定の初期化が完了しました
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.spring.oauth2.OAuth2CoreAutoConfiguration 	message:UserInfoServiceFactory を初期化します
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.s.oauth2.OAuth2FilterAutoConfiguration    	message:JwtValidationTemplate Bean を登録します
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:JwtTokenStrategyRegistryの初期化が完了しました
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:[JWTストラテジー登録] 新しいストラテジーを登録します。キー: header
date:2025-07-15 07:44:31	thread:main	X-Track:	level:INFO 	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:[JWTストラテジー登録] ストラテジーの登録が正常に完了しました。キー: header
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:[JWTストラテジー登録] 新しいストラテジーを登録します。キー: cookie
date:2025-07-15 07:44:31	thread:main	X-Track:	level:INFO 	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:[JWTストラテジー登録] ストラテジーの登録が正常に完了しました。キー: cookie
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.template.ext.JwtValidationTemplate 	message:デフォルトのトークン抽出ストラテジーを登録しました: header, cookie
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.template.ext.JwtValidationTemplate 	message:JwtValidationPreHandlerの初期化が完了しました。JwtTokenUtilを注入しました
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.s.oauth2.OAuth2FilterAutoConfiguration    	message:JwtValidationChain Bean を登録します
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.s.oauth2.OAuth2StrategyAutoConfiguration  	message:註冊 JwtTokenStrategyRegistry Bean
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.oauth2.registry.JwtTokenStrategyRegistry  	message:JwtTokenStrategyRegistryの初期化が完了しました
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.c.s.oauth2.OAuth2StrategyAutoConfiguration  	message:註冊 CallbackLoginTemplate Bean
date:2025-07-15 07:44:31	thread:main	X-Track:	level:INFO 	logger:c.c.c.oauth2.template.ext.CallbackLoginTemplate 	message:ログインストラテジーの初期化を開始します
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.common.oauth2.registry.LoginStrategyRegistry	message:[ログインストラテジー登録] 新しいストラテジーを登録します。キー: test
date:2025-07-15 07:44:31	thread:main	X-Track:	level:INFO 	logger:c.c.common.oauth2.registry.LoginStrategyRegistry	message:[ログインストラテジー登録] ストラテジーの登録が正常に完了しました。キー: test
date:2025-07-15 07:44:31	thread:main	X-Track:	level:DEBUG	logger:c.c.common.oauth2.registry.LoginStrategyRegistry	message:[ログインストラテジー登録] 新しいストラテジーを登録します。キー: prod
date:2025-07-15 07:44:31	thread:main	X-Track:	level:INFO 	logger:c.c.common.oauth2.registry.LoginStrategyRegistry	message:[ログインストラテジー登録] ストラテジーの登録が正常に完了しました。キー: prod
date:2025-07-15 07:44:31	thread:main	X-Track:	level:INFO 	logger:c.c.c.oauth2.template.ext.CallbackLoginTemplate 	message:ログインストラテジーの初期化が完了しました
date:2025-07-15 07:44:32	thread:main	X-Track:	level:INFO 	logger:org.apache.coyote.http11.Http11NioProtocol      	message:Starting ProtocolHandler ["http-nio-8080"]
date:2025-07-15 07:44:32	thread:main	X-Track:	level:INFO 	logger:o.s.boot.web.embedded.tomcat.TomcatWebServer    	message:Tomcat started on port(s): 8080 (http) with context path ''
date:2025-07-15 07:44:32	thread:main	X-Track:	level:INFO 	logger:com.collaboportal.shoho.ShohoApplication        	message:Started ShohoApplication in 10.722 seconds (process running for 11.652)
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:INFO 	logger:o.a.c.c.ContainerBase.[Tomcat].[localhost].[/]  	message:Initializing Spring DispatcherServlet 'dispatcherServlet'
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:INFO 	logger:o.springframework.web.servlet.DispatcherServlet 	message:Initializing Servlet 'dispatcherServlet'
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:INFO 	logger:o.springframework.web.servlet.DispatcherServlet 	message:Completed initialization in 1 ms
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:リクエストパスを処理: /test
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:パス /test は認証が必要
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:DEBUG	logger:c.c.c.o.factory.OAuth2ClientRegistrationFactory 	message:パス /test がプロバイダーにマッチしました: provider1
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:DEBUG	logger:c.collaboportal.common.oauth2.utils.CookieUtil  	message:Cookieを設定します。auth_state=eyJhbGci......ZGblwQhD
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:DEBUG	logger:c.c.c.oauth2.template.ext.JwtValidationTemplate 	message:Cookieが検出されませんでした
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:DEBUG	logger:c.c.common.oauth2.utils.JwtValidationUtils      	message:パス [/test] はCookie認証を使用できません
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:WARN 	logger:c.c.c.oauth2.template.ext.JwtValidationTemplate 	message:現在のパスではCookieモードが許可されていません。認証を拒否します
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:WARN 	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:[Auth] 認証失敗 → リダイレクト: testEnv
date:2025-07-15 07:44:56	thread:http-nio-8080-exec-1	X-Track:	level:INFO 	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:リダイレクト先URL: testEnv
date:2025-07-15 07:44:57	thread:http-nio-8080-exec-2	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:リクエストパスを処理: /testEnv
date:2025-07-15 07:44:57	thread:http-nio-8080-exec-2	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:パス /testEnv が除外パターンにマッチ /testEnv
date:2025-07-15 07:44:57	thread:http-nio-8080-exec-2	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:パス /testEnv は認証をスキップ、直接パススルー
date:2025-07-15 07:44:57	thread:http-nio-8080-exec-2	X-Track:	level:INFO 	logger:c.c.common.jwt.controller.TestController        	message:Redirecting to /testEnv.html
date:2025-07-15 07:44:57	thread:http-nio-8080-exec-3	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:リクエストパスを処理: /testEnv.html
date:2025-07-15 07:44:57	thread:http-nio-8080-exec-3	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:パス /testEnv.html が除外パターンにマッチ /testEnv.html
date:2025-07-15 07:44:57	thread:http-nio-8080-exec-3	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:パス /testEnv.html は認証をスキップ、直接パススルー
date:2025-07-15 07:44:57	thread:http-nio-8080-exec-4	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:リクエストパスを処理: /favicon.ico
date:2025-07-15 07:44:57	thread:http-nio-8080-exec-4	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:パス /favicon.ico が除外パターンにマッチ /favicon.ico
date:2025-07-15 07:44:57	thread:http-nio-8080-exec-4	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:パス /favicon.ico は認証をスキップ、直接パススルー
date:2025-07-15 07:44:58	thread:http-nio-8080-exec-4	X-Track:	level:INFO 	logger:c.c.common.controller.CustomErrorController     	message:=== CustomErrorController.handleError が呼び出されました ===
date:2025-07-15 07:44:58	thread:http-nio-8080-exec-4	X-Track:	level:INFO 	logger:c.c.common.controller.CustomErrorController     	message:リソースが見つかりません。ステータスコード: 404, 例外: null
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:リクエストパスを処理: /auth/callback
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:パス /auth/callback が除外パターンにマッチ /auth/callback
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.c.common.oauth2.filter.JwtAuthFilter          	message:パス /auth/callback は認証をスキップ、直接パススルー
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:WARN 	logger:o.s.c.LocalVariableTableParameterNameDiscoverer 	message:Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.coll......l.common.oauth2.c......ntroller
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:INFO 	logger:c.c.c.oauth2.controller.AuthorizationController 	message:[認証コールバック] リクエストの処理を開始します。環境フラグ: 0
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.c.c.oauth2.controller.AuthorizationController 	message:[認証コールバック] 受信パラメータ - メール: am****@gmail.com, 認証コード: abcde, 状態: state, 認証状態: eyJhbGci......ZGblwQhD, リダイレクトURL: null
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.c.c.oauth2.controller.AuthorizationController 	message:[認証コールバック] 認証状態: {audience=test-audience, clientId=test-client, exp=1752567296, iat=1752565496, issuer=https://test.aut.......example.com}
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.c.c.oauth2.controller.AuthorizationController 	message:[認証コールバック] クライアントID: CallbackContext(emailFromForm=am****@gmail.com, code=abcde, state=state, authStateToken= "****", moveUrl=null, request=SecurityContextHolderAwareRequestWrapper[ org.spri......security.web.head......erFilter$HeaderWriterRequest@d8b0de6], response=org.spri......security.web.head......erFilter$HeaderWriterResponse@f16cdd7, clientId=test-client, clientSecret= "****", audience=test-audience, scope=null, token= "****", strategyKey= "****", redirectUri=null, homePage=null, selectedProviderId=null, authProviderUrl=null, issuer=null)
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.c.c.oauth2.controller.AuthorizationController 	message:[認証コールバック] 使用するステージング: test
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:INFO 	logger:c.c.c.oauth2.controller.AuthorizationController 	message:[認証コールバック] ログイン戦略の実行を開始します
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.c.common.oauth2.registry.LoginStrategyRegistry	message:[ログインストラテジー取得] ストラテジーの取得を開始します。キー: test
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.c.common.oauth2.registry.LoginStrategyRegistry	message:[ログインストラテジー取得] ストラテジーの取得に成功しました。キー: test
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:INFO 	logger:c.c.c.oauth2.template.ext.CallbackLoginTemplate 	message:テスト環境ログインプロセスを開始します。メールアドレス: am****@gmail.com
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:ERROR	logger:c.c.c.oauth2.template.ext.CallbackLoginTemplate 	message:テスト環境ログインに失敗しました
java.lang.NullPointerException: Cannot invoke "Object.hashCode()" because "key" is null
  	at java.base/java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936)
  	at com.collaboportal.common.oauth2.factory.UserInfoServiceFactory.getService(UserInfoServiceFactory.java:28)
  	at com.collaboportal.common.oauth2.factory.UserInfoServiceFactory.loadUserByEmail(UserInfoServiceFactory.java:36)
  	at com.collaboportal.common.oauth2.template.ext.CallbackLoginTemplate.handleTestLogin(CallbackLoginTemplate.java:57)
  	at com.collaboportal.common.oauth2.template.ext.CallbackLoginTemplate.lambda$init$0(CallbackLoginTemplate.java:37)
  	at com.collaboportal.common.oauth2.controller.AuthorizationController.login(AuthorizationController.java:69)
  	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
  	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
  	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
  	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
  	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
  	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
  	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
  	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
  	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
  	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
  	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
  	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
  	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)
  	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
  	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at com.collaboportal.common.oauth2.filter.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:101)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
  	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
  	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
  	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
  	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
  	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
  	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
  	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
  	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
  	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.zalando.logbook.servlet.LogbookFilter.doFilter(LogbookFilter.java:76)
  	at org.zalando.logbook.servlet.SecureLogbookFilter.doFilter(SecureLogbookFilter.java:32)
  	at org.zalando.logbook.servlet.HttpFilter.doFilter(HttpFilter.java:32)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
  	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
  	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
  	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
  	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
  	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
  	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
  	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
  	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
  	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
  	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
  	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
  	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
  	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
  	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
  	at java.base/java.lang.Thread.run(Thread.java:840)
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.collaboportal.common.oauth2.utils.CookieUtil  	message:Cookieを設定します。MoveURL=/#/error
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:DEBUG	logger:c.c.c.oauth2.template.ext.CallbackLoginTemplate 	message:リダイレクトを実行します。URL: null
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:ERROR	logger:c.c.c.oauth2.controller.AuthorizationController 	message:[認証コールバック] ログイン戦略の実行中に例外が発生しました: テスト環境ログイン処理中に予期しないエラーが発生しました: Cannot invoke "Object.hashCode()" because "key" is null
com.collaboportal.common.oauth2.exception.OAuth2AuthenticationException: テスト環境ログイン処理中に予期しないエラーが発生しました: Cannot invoke "Object.hashCode()" because "key" is null
  	at com.collaboportal.common.oauth2.template.ext.CallbackLoginTemplate.handleTestLogin(CallbackLoginTemplate.java:83)
  	at com.collaboportal.common.oauth2.template.ext.CallbackLoginTemplate.lambda$init$0(CallbackLoginTemplate.java:37)
  	at com.collaboportal.common.oauth2.controller.AuthorizationController.login(AuthorizationController.java:69)
  	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
  	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
  	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
  	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
  	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
  	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
  	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
  	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
  	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
  	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
  	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
  	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
  	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)
  	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
  	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at com.collaboportal.common.oauth2.filter.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:101)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
  	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
  	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
  	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
  	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
  	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
  	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
  	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
  	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
  	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.zalando.logbook.servlet.LogbookFilter.doFilter(LogbookFilter.java:76)
  	at org.zalando.logbook.servlet.SecureLogbookFilter.doFilter(SecureLogbookFilter.java:32)
  	at org.zalando.logbook.servlet.HttpFilter.doFilter(HttpFilter.java:32)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
  	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
  	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
  	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
  	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
  	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
  	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
  	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
  	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
  	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
  	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
  	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
  	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
  	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
  	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
  	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
  	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
  	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
  	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
  	at java.base/java.lang.Thread.run(Thread.java:840)
  Caused by: java.lang.NullPointerException: Cannot invoke "Object.hashCode()" because "key" is null
  	at java.base/java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936)
  	at com.collaboportal.common.oauth2.factory.UserInfoServiceFactory.getService(UserInfoServiceFactory.java:28)
  	at com.collaboportal.common.oauth2.factory.UserInfoServiceFactory.loadUserByEmail(UserInfoServiceFactory.java:36)
  	at com.collaboportal.common.oauth2.template.ext.CallbackLoginTemplate.handleTestLogin(CallbackLoginTemplate.java:57)
  	... 99 common frames omitted
date:2025-07-15 07:45:00	thread:http-nio-8080-exec-5	X-Track:	level:ERROR	logger:c.c.common.advise.RestExceptionHandler          	message:===== System Error (Generic) =====: class com.coll......l.common.oauth2.e......xception:テスト環境ログイン処理中に予期しないエラーが発生しました: Cannot invoke "Object.hashCode()" because "key" is null
  com.coll......l.common.oauth2.t......late.ext.CallbackLoginTemplate.handleTestLogin(CallbackLoginTemplate.java:83)
  com.coll......l.common.oauth2.t......late.ext.CallbackLoginTemplate.lambda$init$0(CallbackLoginTemplate.java:37)
  com.coll......l.common.oauth2.c......ntroller.login(AuthorizationController.java:69)
  java.base/jdk.inte.......reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  java.base/jdk.inte.......reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
  java.base/jdk.inte.......reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  java.base/java.lan.......reflect.Method.invoke(Method.java:569)
  org.spri......work.web.method.s......erMethod.doInvoke(InvocableHandlerMethod.java:207)
  org.spri......work.web.method.s......erMethod.invokeForRequest(InvocableHandlerMethod.java:152)
  org.spri......work.web.servlet.......c.method.annotati......ndHandle(ServletInvocableHandlerMethod.java:117)
  org.spri......work.web.servlet.......c.method.annotati......erMethod(RequestMappingHandlerAdapter.java:884)
  org.spri......work.web.servlet.......c.method.annotati......Internal(RequestMappingHandlerAdapter.java:797)
  org.spri......work.web.servlet.......c.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
  org.spri......work.web.servlet.......Dispatch(DispatcherServlet.java:1080)
  org.spri......work.web.servlet.......oService(DispatcherServlet.java:973)
  org.spri......work.web.servlet.......sRequest(FrameworkServlet.java:1011)
  org.spri......work.web.servlet.......et.doGet(FrameworkServlet.java:903)
  jakarta.......let.http.HttpServlet.service(HttpServlet.java:527)
  org.spri......work.web.servlet........service(FrameworkServlet.java:885)
  jakarta.......let.http.HttpServlet.service(HttpServlet.java:614)
  org.apac......catalina.core.App......DoFilter(ApplicationFilterChain.java:223)
  org.apac......catalina.core.App......doFilter(ApplicationFilterChain.java:158)
  org.apac......e.tomcat.websocke......WsFilter.doFilter(WsFilter.java:53)
  org.apac......catalina.core.App......DoFilter(ApplicationFilterChain.java:185)
  org.apac......catalina.core.App......doFilter(ApplicationFilterChain.java:158)
  com.coll......l.common.oauth2.f......thFilter.doFilterInternal(JwtAuthFilter.java:101)
  org.spri......work.web.filter.O......doFilter(OncePerRequestFilter.java:116)
  org.apac......catalina.core.App......DoFilter(ApplicationFilterChain.java:185)
  org.apac......catalina.core.App......doFilter(ApplicationFilterChain.java:158)
  org.spri......security.web.Filt......y.lambda$doFilterInternal$3(FilterChainProxy.java:231)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
  org.spri......security.web.acce......ntercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.acce......onFilter.doFilter(ExceptionTranslationFilter.java:126)
  org.spri......security.web.acce......onFilter.doFilter(ExceptionTranslationFilter.java:120)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.sess......ntFilter.doFilter(SessionManagementFilter.java:131)
  org.spri......security.web.sess......ntFilter.doFilter(SessionManagementFilter.java:85)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.auth......onFilter.doFilter(AnonymousAuthenticationFilter.java:100)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.serv......stFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.save......reFilter.doFilter(RequestCacheAwareFilter.java:63)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.auth......n.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
  org.spri......security.web.auth......n.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.head......erFilter.doHeadersAfter(HeaderWriterFilter.java:90)
  org.spri......security.web.head......erFilter.doFilterInternal(HeaderWriterFilter.java:75)
  org.spri......work.web.filter.O......doFilter(OncePerRequestFilter.java:116)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.cont......erFilter.doFilter(SecurityContextHolderFilter.java:82)
  org.spri......security.web.cont......erFilter.doFilter(SecurityContextHolderFilter.java:69)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.cont.......request.async.We......Internal(WebAsyncManagerIntegrationFilter.java:62)
  org.spri......work.web.filter.O......doFilter(OncePerRequestFilter.java:116)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.sess......rlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
  org.spri......work.web.filter.O......doFilter(OncePerRequestFilter.java:116)
  org.spri......security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
  org.spri......security.web.Filt......Internal(FilterChainProxy.java:233)
  org.spri......security.web.Filt......doFilter(FilterChainProxy.java:191)
  org.spri......work.web.filter.D......Delegate(DelegatingFilterProxy.java:351)
  org.spri......work.web.filter.D......doFilter(DelegatingFilterProxy.java:267)
  org.apac......catalina.core.App......DoFilter(ApplicationFilterChain.java:185)
  org.apac......catalina.core.App......doFilter(ApplicationFilterChain.java:158)
  org.spri......work.web.filter.R......Internal(RequestContextFilter.java:100)
  org.spri......work.web.filter.O......doFilter(OncePerRequestFilter.java:116)
  org.apac......catalina.core.App......DoFilter(ApplicationFilterChain.java:185)
  org.apac......catalina.core.App......doFilter(ApplicationFilterChain.java:158)
  org.spri......work.web.filter.F......Internal(FormContentFilter.java:93)
  org.spri......work.web.filter.O......doFilter(OncePerRequestFilter.java:116)
  org.apac......catalina.core.App......DoFilter(ApplicationFilterChain.java:185)
  org.apac......catalina.core.App......doFilter(ApplicationFilterChain.java:158)
  org.zala.......logbook.servlet.......doFilter(LogbookFilter.java:76)
  org.zala.......logbook.servlet.......doFilter(SecureLogbookFilter.java:32)
  org.zala.......logbook.servlet.......doFilter(HttpFilter.java:32)
  org.apac......catalina.core.App......DoFilter(ApplicationFilterChain.java:185)
  org.apac......catalina.core.App......doFilter(ApplicationFilterChain.java:158)
  org.spri......work.web.filter.C......Internal(CharacterEncodingFilter.java:201)
  org.spri......work.web.filter.O......doFilter(OncePerRequestFilter.java:116)
  org.apac......catalina.core.App......DoFilter(ApplicationFilterChain.java:185)
  org.apac......catalina.core.App......doFilter(ApplicationFilterChain.java:158)
  org.apac......catalina.core.Sta......e.invoke(StandardWrapperValve.java:177)
  org.apac......catalina.core.Sta......e.invoke(StandardContextValve.java:97)
  org.apac......catalina.authenti......e.invoke(AuthenticatorBase.java:542)
  org.apac......catalina.core.Sta......e.invoke(StandardHostValve.java:119)
  org.apac......catalina.valves.E......e.invoke(ErrorReportValve.java:92)
  org.apac......catalina.core.Sta......e.invoke(StandardEngineValve.java:78)
  org.apac......catalina.connecto.......service(CoyoteAdapter.java:357)
  org.apac......e.coyote.http11.H.......service(Http11Processor.java:400)
  org.apac......e.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
  org.apac......e.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
  org.apac......e.tomcat.util.net......Endpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
  org.apac......e.tomcat.util.net......ssorBase.run(SocketProcessorBase.java:52)
  org.apac......e.tomcat.util.thr......Executor.runWorker(ThreadPoolExecutor.java:1191)
  org.apac......e.tomcat.util.thr......Executor$Worker.run(ThreadPoolExecutor.java:659)
  org.apac......e.tomcat.util.thr......skThread$WrappingRunnable.run(TaskThread.java:61)
  java.base/******.******.******.run(Thread.java:840)
  
date:2025-07-15 08:00:53	thread:SpringApplicationShutdownHook	X-Track:	level:INFO 	logger:o.s.o.jpa.LocalContainerEntityManagerFactoryBean	message:Closing JPA EntityManagerFactory for persistence unit 'default'
date:2025-07-15 08:00:53	thread:SpringApplicationShutdownHook	X-Track:	level:INFO 	logger:com.zaxxer.hikari.HikariDataSource              	message:syohomoto-app-api-local - Shutdown initiated...
date:2025-07-15 08:00:53	thread:SpringApplicationShutdownHook	X-Track:	level:INFO 	logger:com.zaxxer.hikari.HikariDataSource              	message:syohomoto-app-api-local - Shutdown completed.
